{
    "$schema": "./schemas/patch.json",
    "enchantment/channeling": [
        {
            "op": "remove",
            "path": "/effects/minecraft:hit_block/0/requirements/terms/0/thundering"
        },
        {
            "op": "add",
            "path": "/effects/minecraft:hit_block/0/requirements/terms/0/raining",
            "value": true
        }
    ],
    "enchantment/impaling": [
        {
            "op": "move",
            "from": "/effects/minecraft:damage/0/requirements",
            "path": "/effects/minecraft:damage/0/_req_orig"
        },
        {
            "op": "add",
            "path": "/effects/minecraft:damage/0/requirements",
            "value": { "condition": "minecraft:any_of", "terms": [] }
        },
        {
            "op": "move",
            "from": "/effects/minecraft:damage/0/_req_orig",
            "path": "/effects/minecraft:damage/0/requirements/terms/0"
        },
        {
            "op": "add",
            "path": "/effects/minecraft:damage/0/requirements/terms/-",
            "value": {
                "condition": "all_of",
                "terms": [
                    { "condition": "minecraft:weather_check", "raining": true },
                    { "condition": "location_check", "predicate": { "can_see_sky": true } }
                ]
            }
        },
        {
            "op": "add",
            "path": "/effects/minecraft:damage/0/requirements/terms/-",
            "value": {
                "condition": "minecraft:entity_properties",
                "entity": "this",
                "predicate": {
                    "location": { "fluid": { "fluids": "minecraft:water" } }
                }
            }
        }
    ],
    "enchantment/looting": [
        {
            "op": "replace",
            "path": "/supported_items",
            "value": "#minecraft:enchantable/sharp_weapon"
        },
        {
            "op": "add",
            "path": "/primary_items",
            "value": "#minecraft:enchantable/sword"
        }
    ],
    "enchantment/loyalty": [
        {
            "op": "add",
            "path": "/effects/tick",
            "value": [
                {
                    "effect": {
                        "type": "run_function",
                        "function": "micahcraft:enchantments/loyalty/void"
                    }
                }
            ]
        }
    ],
    "loot_table/blocks/beetroots": [
        {
            "op": "add",
            "path": "/pools/0/entries/0/children/1/functions",
            "value": [
                {
                    "function": "reference",
                    "name": "micahcraft:enchantment/germination/reduce_count"
                }
            ]
        }
    ],
    "loot_table/blocks/budding_amethyst": [
        {
            "op": "add",
            "path": "/pools",
            "value": [
                {
                    "rolls": 1,
                    "conditions": [
                        {
                            "condition": "reference",
                            "name": "micahcraft:used_silk"
                        }
                    ],
                    "entries": [
                        {
                            "type": "item",
                            "name": "budding_amethyst"
                        }
                    ]
                }
            ]
        }
    ],
    "loot_table/blocks/carrots": [
        {
            "op": "add",
            "path": "/pools/0/functions",
            "value": [
                {
                    "function": "reference",
                    "name": "micahcraft:enchantment/germination/reduce_count"
                }
            ]
        }
    ],
    "loot_table/blocks/dirt_path": [
        {
            "op": "add",
            "path": "/pools/0/entries/0",
            "value": {
                "type": "minecraft:alternatives",
                "children": [
                    {
                        "type": "minecraft:item",
                        "conditions": [{ "condition": "minecraft:reference", "name": "micahcraft:used_silk" }],
                        "name": "minecraft:dirt_path"
                    }
                ]
            }
        },
        {
            "op": "move",
            "from": "/pools/0/entries/1",
            "path": "/pools/0/entries/0/children/1"
        },
        {
            "op": "move",
            "from": "/pools/0/conditions",
            "path": "/pools/0/entries/0/children/1/conditions"
        }
    ],
    "loot_table/blocks/jungle_leaves": [
        {
            "op": "replace",
            "path": "/pools/0/entries/0/children/1/conditions/1/chances",
            "value": [0.05, 0.0625, 0.0833, 0.1]
        }
    ],
    "loot_table/blocks/nether_wart": [
        {
            "op": "add",
            "path": "/pools/0/functions/-",
            "value": {
                "function": "reference",
                "name": "micahcraft:enchantment/germination/reduce_count"
            }
        }
    ],
    "loot_table/blocks/potatoes": [
        {
            "op": "add",
            "path": "/pools/0/functions",
            "value": [
                {
                    "function": "reference",
                    "name": "micahcraft:enchantment/germination/reduce_count"
                }
            ]
        }
    ],
    "loot_table/blocks/wheat": [
        {
            "op": "add",
            "path": "/pools/0/entries/0/children/1/functions",
            "value": [
                {
                    "function": "reference",
                    "name": "micahcraft:enchantment/germination/reduce_count"
                }
            ]
        }
    ],
    "loot_table/chests/abandoned_mineshaft": [
        {
            "op": "replace",
            "path": "/pools/0/entries/3/functions/0/options",
            "value": "#micahcraft:on_random_loot/mineshaft"
        }
    ],
    "loot_table/chests/ancient_city": [
        {
            "op": "replace",
            "path": "/pools/0/entries/12/functions/0/function",
            "value": "minecraft:set_enchantments"
        },
        {
            "op": "remove",
            "path": "/pools/0/entries/12/functions/0/options"
        },
        {
            "op": "add",
            "path": "/pools/0/entries/12/functions/0/enchantments",
            "value": {
                "minecraft:swift_sneak": 3
            }
        }
    ],
    "loot_table/chests/end_city_treasure": [
        {
            "op": "replace",
            "path": "/pools/0/entries/9/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/10/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/11/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/12/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/13/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/14/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/15/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/16/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/17/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/18/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/19/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/20/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/21/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/22/functions/0/options",
            "value": "#micahcraft:on_random_loot/end_city"
        },
        {
            "op": "add",
            "path": "/pools/-",
            "value": {
                "bonus_rolls": 0.0,
                "entries": [
                    {
                        "type": "minecraft:empty",
                        "weight": 4
                    },
                    {
                        "type": "minecraft:item",
                        "functions": [
                            {
                                "function": "minecraft:set_enchantments",
                                "enchantments": {
                                    "micahcraft:ender_reach": {
                                        "min": 1,
                                        "max": 3,
                                        "type": "uniform"
                                    }
                                }
                            }
                        ],
                        "name": "minecraft:book",
                        "weight": 1
                    }
                ],
                "rolls": 1.0
            }
        }
    ],
    "loot_table/chests/nether_bridge": [
        {
            "op": "add",
            "path": "/pools/-",
            "value": {
                "rolls": 1.0,
                "bonus_rolls": 0.0,
                "entries": [
                    {
                        "type": "minecraft:empty",
                        "weight": 9
                    },
                    {
                        "type": "minecraft:item",
                        "name": "book",
                        "functions": [
                            {
                                "function": "set_enchantments",
                                "enchantments": {
                                    "micahcraft:satyr_step": {
                                        "type": "uniform",
                                        "min": 1,
                                        "max": 2
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        }
    ],
    "loot_table/chests/pillager_outpost": [
        {
            "op": "replace",
            "path": "/pools/3/entries/5/functions/0/options",
            "value": "#micahcraft:on_random_loot/pillager_outpost"
        }
    ],
    "loot_table/chests/simple_dungeon": [
        {
            "op": "replace",
            "path": "/pools/0/entries/10/functions/0/options",
            "value": "#micahcraft:on_random_loot/dungeon"
        }
    ],
    "loot_table/chests/trial_chambers/reward_ominous_rare": [
        {
            "op": "replace",
            "path": "/pools/0/entries/2/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/4/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/5/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "add",
            "path": "/pools/0/entries/6/functions/0/options/-",
            "value": "micahcraft:evasion"
        }
    ],
    "loot_table/chests/trial_chambers/reward_rare": [
        {
            "op": "replace",
            "path": "/pools/0/entries/2/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/3/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/4/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/5/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "add",
            "path": "/pools/0/entries/7/functions/0/options/-",
            "value": "micahcraft:evasion"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/9/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        },
        {
            "op": "replace",
            "path": "/pools/0/entries/10/functions/0/options",
            "value": "#micahcraft:on_random_loot/trial"
        }
    ],
    "loot_table/chests/stronghold_corridor": [
        {
            "op": "replace",
            "path": "/pools/0/entries/19/functions/0/options",
            "value": "#micahcraft:on_random_loot/stronghold"
        }
    ],
    "loot_table/chests/stronghold_crossing": [
        {
            "op": "replace",
            "path": "/pools/0/entries/7/functions/0/options",
            "value": "#micahcraft:on_random_loot/stronghold"
        }
    ],
    "loot_table/chests/stronghold_library": [
        {
            "op": "replace",
            "path": "/pools/0/entries/4/functions/0/options",
            "value": "#micahcraft:on_random_loot/stronghold"
        }
    ],
    "loot_table/chests/woodland_mansion": [
        {
            "op": "replace",
            "path": "/pools/0/entries/9/functions/0/options",
            "value": "#micahcraft:on_random_loot/mansion"
        }
    ],
    "loot_table/gameplay/piglin_bartering": [
        {
            "op": "add",
            "path": "/pools/0/entries/-",
            "value": {
                "type": "minecraft:item",
                "functions": [
                    {
                        "add": false,
                        "count": { "type": "minecraft:uniform", "max": 2.0, "min": 1.0 },
                        "function": "minecraft:set_count"
                    }
                ],
                "name": "minecraft:netherite_upgrade_smithing_template",
                "weight": 3
            }
        }
    ]
}
